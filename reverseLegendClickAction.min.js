!function(e){e.wrap(e.Chart.prototype,"init",function(e){e.apply(this,Array.prototype.slice.call(arguments,1));var i=this.legend.options.reverseLegendClickAction||!1;this.update({chart:{__visibleSeries:[]}}),!0===i&&(this.options.plotOptions.series||(this.options.plotOptions.series={}),this.options.plotOptions.series.events||(this.options.plotOptions.series.events={}),this.update({plotOptions:{series:{events:{legendItemClick:function(e){e.preventDefault();var i=-1,s=this.chart,t=!1;if((s.rangeSelector||s.navigator)&&(t=!0),1==s.options.chart.__visibleSeries.length&&s.options.chart.__visibleSeries[0]===this.name)return s.series.forEach(function(e){e.setVisible(!0,!1)}),s.options.chart.__visibleSeries.length=0,!1;if(s.options.chart.__visibleSeries.includes(this.name))return this.setVisible(!1,!1),i=s.options.chart.__visibleSeries.indexOf(this.name),s.options.chart.__visibleSeries.splice(i,1),!1;s.options.chart.__visibleSeries.push(this.name),s.series.forEach(function(e){e.name.includes("Navigator")||(s.options.chart.__visibleSeries.includes(e.name)?e.setVisible(!0,!1):e.setVisible(!1,!1))});var n=s.series.length;1==t&&1==s.navigator.navigatorEnabled&&(n=s.series.length-s.navigator.series.length),s.options.chart.__visibleSeries.length===n&&(s.options.chart.__visibleSeries.length=0),this.redraw()}}}}}))})}(Highcharts);
